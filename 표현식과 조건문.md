# 표현식과 조건문



##### 표현식

- 개념 : 실행 후 값을 반환하는 코드 단위

- 특징 : 기존 데이터를 변경하지 않고, 값을 반환.  

- 함수형 프로그래밍에서의 역할 : "데이터 불변" 이라는 함수형 프로그램의 특징을 유지하게 해준다. 

- 데이터를 반환할 때 쓰이는 함수는, 표현식의 다른 형태로 간주함.

  ​

> ###### 데이터 불변
>
> 새로운 데이터를, 기존 변수 대신 새로운 값에 저장하는 방식
>
> (정확히 아래와 같지는 않다. 아래는 표현식의 결과가 다른 곳에 저장된다는 것을 보여주기 위해 인위적으로 작성한 코드다.)
>
> ```scala
> var a = a + 1;  // 데이터 가변
> val y = x + 1; 	// 데이터 불변(함수형 프로그래밍)
> ```
>
> "변수를 사용하는 방식" 대신, "값을 사용하는 방식"으로 갈수록 함수와 표현식의 부작용은 줄어든다. 
>
> 함수형 프로그래밍의 주요 목표이자 이점.



##### 표현식 블록

- 한 줄 이상의 코드를 중괄호로 묶은 덩어리의 표현식

```scala
{표현식}

{
	표현식
	표현식
}
```





## 1. 표현식

```scala
scala > "Hello"
res0: String = hello
```

```scala
scala > "hell" + "o"
res1: String = hello
```

"Hello", "hell"+"o" 모두 표현식이다. 표현식은, 획득하고 사용할 수 있는 값을 반환하는 것이 전부다. 

위의 식은 '각각의 표현식이 반환한 값'이 변수에 저장되는 것으로 보는 것이 맞다.



### 1.1 표현식으로 값과 변수 정의 하기

```scala
val <식별자> [: <타입>] = <표현식> //값
var <식별자> [: <타입>] = <표현식> //변수		
```



### 표현식 블록

- {표현식; 표현식}
- 자신만의 스코프를 가짐.
- 마지막 표현식이 블록의 리턴값이 됨.

```scala
scala> val x = 5 * 20; val amount = x + 10
x: Int =100
amount : Int =110
```



사실 위의 코드에서 결과적으로 알고 싶은 것은 amount이므로,  amount를 중심으로 코드를 정리하면 아래와 같이 된다. 

```scala
scala> val amount = {val x = 5 * 20; x + 10}
amount: Int = 110
```

블록의 마지막 표현식인  'x+10'은 블록의 반환값을 결정한다. 



###### 세미콜론 없이 세로로 작성

```scala
scala> val amount = {
  	|	val x = 5 * 20
  	|	x + 10
  	| }
amount: Int = 110
```



###### 삼중 블록표현식

```scala
scala> { val a = 1; { val b = a * 2; { val c = b + 4; c } } }

scala> { val a = 1 
	|		{ val b = a * 2
	|			{ val c = b + 4
	|			  c //리턴값
	|			} 
	|        } 
	|	}
res5: Int = 6 
```





### 문장

- 값을 반환하지 않는 표현식
- 반환타입 : Unit (값이 없음을 나타내는 타입)
- 기존 데이터를 수정하거나 그 애플리케이션의 범위 밖을 변경 하는데 사용
- println()호출, 값/변수 정의는 문장에 해당함.

```
scala > val x = 1;
x: Int = 1
```



?? 잘 이해가 안간다. 위의 말에(값이 없는 Unit 타입) 따르면, 

```
scala > val x = 1;
x: Unit = 1
```

이렇게 되어야 하는 것 아닌가?



scala는 어떻게 문장과 표현식을 구분할까?? 

http://kowon.dongseo.ac.kr/~lbg/web_lecture/java/2013/data/slide/sld009.htm

문장 : 일을 수행하는 최소단위

표현식 : 계산을 수행하고 리턴값을 되돌려주는 일종의 작업

```scala
scala> "Hello"
res1: String = Hello

scala> var x = "Hi"
x: String = Hi

scala> 5+2
res2: Int = 7

scala> var y = 30
y: Int = 30

scala> 9
res3: Int = 9

scala> {5}
res4: Int = 5

scala> var z = {10}
??
```



#### 정리

1. 단순히 변수와 값에 데이터를 할당하는 것은 문장이다. (값을 반환하지 않는다.)
2. 하지만 이 데이터 할당이, 블록으로 싸여 있으면 표현식이다. (값을 반환한다.)
3. 리터럴만으로 표기되는 것은 표현식이다.



## If  .. Else 표현식 블록

다른 언어와 마찬가지로, 실전에서는 'if.. else if …else' 구조의 블록을 작성할 수 있으나
스칼라는 공식적으로는 'if'와 'else'만을 지원한다.........



'else if'가 작동하는 방식

스칼라는 else if를 중첩된 표현식으로 인식해버림

```scala
if .. else if  .. else // 작성한 코드
if ..else {if .. else} // 해석
```



### If 표현식

#### 구문:If 표현식 사용하기

```scala
if(<부울식>) <표현식>
```

```scala
scala> if( 47 % 3 > 0 ) println("Not a multiple of 3")
Not a multiple of 3
```



```scala
scala> val result = if(true) "What does this return"
result: Any = What does this return

scala> val result = if(false) "What does this return"
result: Any = ()
```



> "if 블록을 사용하면조건부로 값을 반환하는 경우, 문제가 된다"

무슨 문제가 된다는 걸까? result의 타입을 추론하기가 어렵다는 것?



### If-Else 표현식

```
if( <부울식> ) <표현식>
else <표현식>
```



```scala
scala> val x = 10; val y = 20
x: Int = 10
y: Int = 20

scala> val max = if(x > y) x else y
max: Int = 20
```



##### 정리

- 스칼라는 삼항연산자를 따로 쓰지 않아도 될 만큼 문법이 간결하다. ->OK
- 한 줄에 작성이 가능하다면 한줄에 표기하는 것이 좋지만, 그렇지 않을 경우에는 중괄호를 사용하여 블럭으로 구분 짓는 것이 가독성 향상에 도움이 된다. ->OK
- If는 문장과 잘 <u>어울리고</u>, If…else는 표현식과 잘 <u>어울린다</u>. ->??
- else  없이 if만 단독적으로 사용하는 경우, 부작용 방지를 위해 항상 중괄호를 사용한다. ->??



##### 



## 매치 표현식

### 와일드카드로 매칭하기

### 패턴 가드를 이용한 매칭

### 패턴 변수를 이용한 매칭



## 루프

### 반복자 가드

### 중첩된 반복자

### 값 바인딩

### While과 Do/While 루프



## 요약





## 연습문제